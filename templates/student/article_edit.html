{% extends "student/index.html" %}
{% load static %}
{% block css %}
<link rel="stylesheet" href={% static 'plugins\editor.md\css\editormd.min.css' %}>
{% endblock css %}

{% block content %}
<div class="markdown-body editormd-preview-container" id="custom-toc-container" previewcontainer="false" style="overflow: visible;"></div>

<form method='post' novalidate>
    {% csrf_token %}
<div id="test-editor">
    
    {{form.detail}}
</div>
<div class="clearfix" style="text-align:center;">
    <input type="submit" class='btn btn-primary' value='修改' >
</div>
</form>
{% endblock content %}

{% block js %}
<script src={% static 'plugins/editor.md/editormd.min.js' %}></script>
<script type="text/javascript">
    
    $(function() {
        var editor = editormd("test-editor", {
            width  : "100%",
            height : "600", 
            path   : '/static/plugins/editor.md/lib/',
        });
        editor.config({
            tocContainer  : "#custom-toc-container",
            tocDropdown   : true,
            tocTitle      : "目录",
        });
    });
    
</script>
{% endblock js %}